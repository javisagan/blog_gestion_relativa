<!-- views/index.ejs -->
<%- include('partials/header', { pageTitle: pageTitle, pageDescription: pageDescription }) %>

<div class="post-list-simple">
    <% posts.forEach(post => { %>
        <% if (post.slug) { %> <%# Solo muestra posts que tengan un slug %>
        <article class="post-item">
            <h2 class="post-item-title">
                <a href="/post/<%= post.slug %>"><%= post.title %></a>
            </h2>
            
            <% if (post.subtitle) { %>
                <p class="post-item-subtitle"><%= post.subtitle %></p>
            <% } %>

            <div class="post-item-meta">
                <span class="post-item-date">
                    <%= new Date(post.date).toLocaleDateString('es-ES', { day: '2-digit', month: 'long', year: 'numeric' }) %>
                </span>
                
                <% if (post.tags) { %>
                    <div class="post-item-tags">
                        <% post.tags.split(',').forEach(tag => { %>
                            <span class="tag"><%= tag.trim() %></span>
                        <% }) %>
                    </div>
                <% } %>
            </div>
        </article>
        <% } %>
    <% }) %>
</div>

<%- include('partials/footer') %>